# encoding: utf-8

patch:
  "switches/@0/reset": 1
  "switches/@1/reset": 0
  "switches/@2/reset": 1

  translator/dictionary: luna_pinyin.extended
  translator/preedit_format: {}
  translator/enable_completion: true

  switches/@next:
    name: emoji_suggestion
    reset: 1
    states: [ "F", "T" ]
  'engine/filters/@before 0':
    simplifier@emoji_suggestion

  # https://github.com/rime/rime-emoji/blob/master/emoji_suggestion.yaml
  emoji_suggestion:
    opencc_config: emoji.json
    option_name: emoji_suggestion
    tips: none
    inherit_comment: false

  engine/translators/+:
     - reverse_lookup_translator
  recognizer/patterns/reverse_lookup: "u[a-z]*?$"
  reverse_lookup:
    dictionary: stroke
    enable_completion: true
    prefix: "u"
    tips: "〔五笔画〕"
    comment_format:
      - "xform/([nl])v/$1ü/"
    preedit_format:
      - "xlit/hspnz/一丨丿丶乙/"
